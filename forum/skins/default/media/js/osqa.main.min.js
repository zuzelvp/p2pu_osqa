var response_commands={refresh_page:function(){window.location.reload(true)},update_post_score:function(d,b){var c=$("#post-"+d+"-score");var a=parseInt(c.html());if(isNaN(a)){a=0}c.html(a+b)},update_user_post_vote:function(d,b){var a=$("#post-"+d+"-upvote");var c=$("#post-"+d+"-downvote");a.removeClass("on");c.removeClass("on");if(b=="up"){a.addClass("on")}else{if(b=="down"){c.addClass("on")}}},update_favorite_count:function(b){var c=$("#favorite-count");var a=parseInt(c.html());if(isNaN(a)){a=0}a+=b;if(a==0){a=""}c.html(a)},update_favorite_mark:function(a){if(a=="on"){$("#favorite-mark").addClass("on")}else{$("#favorite-mark").removeClass("on")}},mark_accepted:function(b){var a=$("#answer-container-"+b);a.addClass("accepted-answer");a.find(".accept-answer").addClass("on");a.find(".accept-answer").attr("title",a.find(".accept-answer").attr("bn:on"))},unmark_accepted:function(b){var a=$("#answer-container-"+b);a.removeClass("accepted-answer");a.find(".accept-answer").removeClass("on");a.find(".accept-answer").attr("title",a.find(".accept-answer").attr("bn:off"))},remove_comment:function(b){var a=$("#comment-"+b);a.css("background","red");a.fadeOut("slow",function(){a.remove()})},insert_comment:function(d,b,h,f,j,c,g,a){var i=$("#comments-container-"+d);var e=$("#new-comment-skeleton-"+d).html().toString();e=e.replace(new RegExp("%ID%","g"),b).replace(new RegExp("%COMMENT%","g"),h).replace(new RegExp("%USERNAME%","g"),f).replace(new RegExp("%PROFILE_URL%","g"),j).replace(new RegExp("%DELETE_URL%","g"),c).replace(new RegExp("%EDIT_URL%","g"),g).replace(new RegExp("%CONVERT_URL%","g"),a);i.append(e);$("#comment-"+b).slideDown("slow")},update_comment:function(b,a){var c=$("#comment-"+b);c.find(".comment-text").html(a);c.slideDown("slow")},mark_deleted:function(b,a){if(b=="answer"){var d=$("#answer-container-"+a);d.addClass("deleted")}else{var c=$("#question-table");c.addClass("deleted")}},unmark_deleted:function(b,a){if(b=="answer"){var d=$("#answer-container-"+a);d.removeClass("deleted")}else{var c=$("#question-table");c.removeClass("deleted")}},set_subscription_button:function(a){$(".subscription_switch").html(a)},set_subscription_status:function(a){$(".subscription-status").html(a)}};function show_dialog(e){var a=function(f){f.fadeOut("fast",function(){f.remove()})};var b={extra_class:"",pos:{x:($(window).width()/2)+$(window).scrollLeft(),y:($(window).height()/2)+$(window).scrollTop()},dim:false,yes_text:messages.ok,yes_callback:a,no_text:messages.cancel,show_no:false,close_on_clickoutside:false};$.extend(b,e);if(b.event!=undefined){b.pos={x:b.event.pageX,y:b.event.pageY}}var c='<div class="dialog '+b.extra_class+'" style="display: none;"><div class="dialog-content">'+b.html+'</div><div class="dialog-buttons">';if(b.show_no){c+='<button class="dialog-no">'+b.no_text+"</button>"}c+='<button class="dialog-yes">'+b.yes_text+"</button></div></div>";$dialog=$(c);$("body").append($dialog);var d=$(".dialog-content")[0];d.style.visibility="hidden";if(b.dim===false){$dialog.css({visibility:"hidden",display:"block"});b.dim={w:$dialog.width(),h:$dialog.height()};$dialog.css({width:1,height:1,visibility:"visible"})}$dialog.css({top:b.pos.y,left:b.pos.x});top_position_change=(b.dim.h/2);left_position_change=(b.dim.w/2);new_top_position=b.pos.y-top_position_change;new_left_position=b.pos.x-left_position_change;if(new_left_position<0){left_position_change=0}if(($(window).scrollTop()-new_top_position)>0){top_position_change=0}if((b.event.pageY+b.dim.h)>($(window).height()+$(window).scrollTop())){top_position_change=b.dim.h}if((b.event.pageX+b.dim.w)>($(window).width()+$(window).scrollLeft())){left_position_change=b.dim.w}$dialog.animate({top:"-="+top_position_change,left:"-="+left_position_change,width:b.dim.w,height:b.dim.h},200,function(){d.style.visibility="visible"});$dialog.find(".dialog-no").click(function(){a($dialog)});$dialog.find(".dialog-yes").click(function(){b.yes_callback($dialog)});if(b.close_on_clickoutside){$dialog.one("clickoutside",function(){a($dialog)})}return $dialog}function show_message(a,c,d){var b=show_dialog({html:c,extra_class:"warning",event:a,yes_callback:function(){b.fadeOut("fast",function(){b.remove()});if(d){d()}},close_on_clickoutside:true})}function load_prompt(a,c,b){$.get(b,function(e){var f={html:e,extra_class:"prompt",yes_callback:function(){var g={};d.find("input, textarea, select").each(function(){g[$(this).attr("name")]=$(this).val()});$.post(b,g,function(h){d.fadeOut("fast",function(){d.remove()});process_ajax_response(h,a)},"json")},show_no:true};if(!c.is(".centered")){f.event=a}var d=show_dialog(f)})}function process_ajax_response(b,a,d){if(!b.success&&b.error_message!=undefined){show_message(a,b.error_message,function(){if(d){d(true)}});end_command(false)}else{if(typeof b.commands!=undefined){for(var c in b.commands){response_commands[c].apply(null,b.commands[c])}if(b.message!=undefined){show_message(a,b.message,function(){if(d){d(false)}})}else{if(d){d(false)}}end_command(true)}}}var running=false;function start_command(){$("body").append($('<div id="command-loader"></div>'));running=true}function end_command(a){if(a){$("#command-loader").addClass("success");$("#command-loader").fadeOut("slow",function(){$("#command-loader").remove();running=false})}else{$("#command-loader").remove();running=false}}$(function(){var h="comment";var b="off";var f="off";function a(){b="off";f="off"}$("div.answer").each(function(){var p=$(this);var n=p.find("a.up");var o=p.find("a.down");var l=p.find(".add-comment-link");var m=p.find(".comment-cancel");if(n.length){n.click(function(){if(h=="comment"||h=="down"){h="up";a();if(n.hasClass("on")){b="on"}l.click()}else{m.click()}return false});o.click(function(){if(h=="comment"||h=="up"){h="down";a();if(o.hasClass("on")){f="on"}l.click()}else{m.click()}return false})}});$("a.ajax-command").live("click",function(l){if(running){return false}$(".context-menu-dropdown").slideUp("fast");var m=$(this);if(m.is(".withprompt")){load_prompt(l,m,m.attr("href"))}else{if(m.is(".confirm")){var o={html:messages.confirm,extra_class:"confirm",yes_callback:function(){start_command();$.getJSON(m.attr("href"),function(p){process_ajax_response(p,l);n.fadeOut("fast",function(){n.remove()})})},yes_text:messages.yes,show_no:true,no_text:messages.no};if(!m.is(".centered")){o.event=l}var n=show_dialog(o)}else{start_command();$.getJSON(m.attr("href"),function(p){process_ajax_response(p,l)})}}return false});$(".context-menu").each(function(){var m=$(this);var l=m.find(".context-menu-trigger");var n=m.find(".context-menu-dropdown");l.click(function(){n.slideToggle("fast",function(){if(n.is(":visible")){n.one("clickoutside",function(){if(n.is(":visible")){n.slideUp("fast")}})}})})});$("div.comment-form-container").each(function(){var G=$(this);var l=G.parent().find(".comment-tools");var P=G.parent().find(".comments-container");var s=G.find("form");if(s.length){var N=G.find("textarea");var B=N.get(0);var o=G.find(".comment-submit");var t=G.find(".comment-cancel");var H=G.find(".comments-chars-left-msg");var O=G.find(".comments-chars-togo-msg");var A=G.find(".comments-char-left-count");var x=G.find(".endorsement-feedback-msg");var z=G.find(".comment-vote-cancel-up-msg");var r=G.find(".comment-vote-up-msg");var M=G.find(".comment-vote-cancel-down-msg");var v=G.find(".comment-vote-down-msg");var u=l.find(".add-comment-link");var F=A.html().split("|");var E=parseInt(F[0]);var q=parseInt(F[1]);var I=q-30;var y=0;var n=false;var L=null;var D=!($.browser.msie||$.browser.opera);N.css("padding-top",0).css("padding-bottom",0).css("resize","none");B.style.overflow="hidden";function m(){J();if(h=="up"&&b=="on"){z.show()}else{if(h=="up"&&b=="off"){r.show()}else{if(h=="down"&&f=="on"){M.show()}else{if(h=="down"&&f=="off"){v.show()}}}}x.show()}function J(){z.hide();r.hide();M.hide();v.hide();x.hide()}function C(){N.val("");N.css("height",80);A.html(q);H.removeClass("warn");n=false;y=0;h="comment";a();J();H.hide();O.show();A.removeClass("warn");A.html(E);o.attr("disabled","disabled");L=null}C();function K(){var R=N.val().replace(/[ ]{2,}/g," ").length;if(y==R){return}if(R<I&&y>=I){A.removeClass("warn")}else{if(y<I&&R>=I){A.addClass("warn")}}if(R<E){H.hide();O.show();A.html(E-R)}else{R=N.val().length;O.hide();H.show();A.html(q-R)}if(R>q||R<E){o.attr("disabled","disabled")}else{o.removeAttr("disabled")}var S=B.style.height;if(D){B.style.height="0px"}var Q=Math.max(80,B.scrollHeight);B.style.height=S;N.animate({height:Q+"px"},50);y=R}function w(){G.slideDown("slow");u.fadeOut("slow");N.focus();L=window.setInterval(function(){K()},200)}function p(){if(L!=null){window.clearInterval(L);L=null}G.slideUp("slow");u.fadeIn("slow")}u.click(function(){if(h=="comment"){C()}else{m()}w();return false});$("#"+P.attr("id")+" .comment-edit").live("click",function(){var Q=$(this);var R=/comment-(\d+)-edit/.exec(Q.attr("id"))[1];var S=$("#comment-"+R);n=R;$.get(Q.attr("href"),function(T){N.val(T)});S.slideUp("slow");w();return false});o.click(function(Q){if(running){return false}var R={comment:N.val(),vote_type:h};if(n){R.id=n}start_command();$.post(s.attr("action"),R,function(S){process_ajax_response(S,Q,function(T){if(!T){C();p()}})},"json");return false});t.click(function(Q){if(confirm("You will lose all of your changes in this comment.  Do you still wish to proceed?")){if(n){$comment=$("#comment-"+n).slideDown("slow")}p();C()}return false})}l.find(".show-all-comments-link").click(function(){P.find(".not_top_scorer").slideDown("slow");$(this).fadeOut("slow");l.find(".comments-showing").fadeOut("slow");return false})});if($("#editor").length){var c=$("#editor");var d=$("#previewer");var j=$("#editor-metrics");var g=/^[^A-Za-z0-9]+/gi;var i=rExp=/[^A-Za-z0-9]+/gi;var e=null;c.focus(function(){if(e==null){e=window.setInterval(function(){k()},200)}});function k(){var r=d.text();var s=r.length;var p=r+" ";var l=p.replace(g,"");var n=l.replace(i," ");var o=n.split(" ");var q=o.length-1;var m=s+" "+(s==1?messages.character:messages.characters);m+=" / "+q+" "+(q==1?messages.word:messages.words);j.html(m)}}});function pickedTags(){var a=function(j,k,i,l){var h=scriptUrl;if(i=="add"){h+=$.i18n._("mark-tag/");if(k=="good"){h+=$.i18n._("interesting/")}else{h+=$.i18n._("ignored/")}}else{h+=$.i18n._("unmark-tag/")}h=h+j+"/";var g={type:"POST",url:h,data:""};if(l!==false){g.success=l}$.ajax(g)};var f=function(k,h,i,g){var j=function(){k[h].remove();delete k[h]};if(g){a(h,i,"remove",j)}else{j()}};var b=function(k,h,i,j,g){k.unbind("mouseover").bind("mouseover",function(){$(this).attr("src",mediaUrl("media/images/close-small-hover.png"))});k.unbind("mouseout").bind("mouseout",function(){$(this).attr("src",mediaUrl("media/images/close-small-dark.png"))});k.click(function(){f(h,i,j,g)})};var d=function(k,j){var i=$.trim($(k).prev().attr("value"));var g=interestingTags;var l=ignoredTags;var h;if(j=="bad"){g=ignoredTags;l=interestingTags;h=$("div .tags.ignored")}else{if(j!="good"){return}else{h=$("div .tags.interesting")}}if(i in l){f(l,i,j,false)}if(!(i in g)){a(i,j,"add",function(){var n=$("<span></span>");n.addClass("deletable-tag");var m=$("<a></a>");m.attr("rel","tag");m.attr("href",scriptUrl+$.i18n._("tags/")+i+"/");m.html(i);var o=$("<img></img>");o.addClass("delete-icon");o.attr("src",mediaUrl("media/images/close-small-dark.png"));b(o,g,i,j,true);n.append(m);n.append(o);h.append(n);g[i]=n})}};var c=function(){var g="interesting-tag-";var j="ignored-tag-";var i=RegExp("^"+g);var h=RegExp("^"+j);interestingTags={};ignoredTags={};$(".deletable-tag").each(function(l,n){var k=$(n).attr("id");var o,m;if(i.test(k)){o=k.replace(g,"");m=interestingTags;reason="good"}else{if(h.test(k)){o=k.replace(j,"");m=ignoredTags;reason="bad"}else{return}}m[o]=$(n);b($(n).find("img"),m,o,reason,true)})};var e=function(){$("#hideIgnoredTagsCb").unbind("click").click(function(){$.ajax({type:"POST",dataType:"json",cache:false,url:scriptUrl+$.i18n._("command/"),data:{command:"toggle-ignored-questions"}})})};return{init:function(){c();e();$("#interestingTagInput, #ignoredTagInput").autocomplete(messages.matching_tags_url,{minChars:1,matchContains:true,max:20,formatItem:function(k,h,g,j){return k[1]+" ("+k[2]+")"},formatResult:function(k,h,g,j){return k[1]}});$("#interestingTagAdd").click(function(){d(this,"good")});$("#ignoredTagAdd").click(function(){d(this,"bad")})}}}Hilite={elementid:"content",exact:true,max_nodes:1000,onload:true,style_name:"hilite",style_name_suffix:true,debug_referrer:""};Hilite.search_engines=[["local","q"],["cnprog\\.","q"],["google\\.","q"],["search\\.yahoo\\.","p"],["search\\.msn\\.","q"],["search\\.live\\.","query"],["search\\.aol\\.","userQuery"],["ask\\.com","q"],["altavista\\.","q"],["feedster\\.","q"],["search\\.lycos\\.","q"],["alltheweb\\.","q"],["technorati\\.com/search/([^\\?/]+)",1],["dogpile\\.com/info\\.dogpl/search/web/([^\\?/]+)",1,true]];Hilite.decodeReferrer=function(m){var j=null;var l=new RegExp("");for(var n=0;n<Hilite.search_engines.length;n++){var k=Hilite.search_engines[n];l.compile("^http://(www\\.)?"+k[0],"i");var h=m.match(l);if(h){var i;if(isNaN(k[1])){i=Hilite.decodeReferrerQS(m,k[1])}else{i=h[k[1]+1]}if(i){i=decodeURIComponent(i);if(k.length>2&&k[2]){i=decodeURIComponent(i)}i=i.replace(/\'|"/g,"");i=i.split(/[\s,\+\.]+/);return i}break}}return null};Hilite.decodeReferrerQS=function(k,m){var h=k.indexOf("?");var n;if(h>=0){var i=new String(k.substring(h+1));h=0;n=0;while((h>=0)&&((n=i.indexOf("=",h))>=0)){var l,j;l=i.substring(h,n);h=i.indexOf("&",n)+1;if(l==m){if(h<=0){return i.substring(n+1)}else{return i.substring(n+1,h-1)}}else{if(h<=0){return null}}}}return null};Hilite.hiliteElement=function(i,j){if(!j||i.childNodes.length==0){return}var l=new Array();for(var g=0;g<j.length;g++){j[g]=j[g].toLowerCase();if(Hilite.exact){l.push("\\b"+j[g]+"\\b")}else{l.push(j[g])}}l=new RegExp(l.join("|"),"i");var h={};for(var g=0;g<j.length;g++){if(Hilite.style_name_suffix){h[j[g]]=Hilite.style_name+(g+1)}else{h[j[g]]=Hilite.style_name}}var k=function(a){var c=l.exec(a.data);if(c){var o=c[0];var d="";var e=a.splitText(c.index);var f=e.splitText(o.length);var b=a.ownerDocument.createElement("SPAN");a.parentNode.replaceChild(b,e);b.className=h[o.toLowerCase()];b.appendChild(e);return b}else{return a}};Hilite.walkElements(i.childNodes[0],1,k)};Hilite.hilite=function(){var d=Hilite.debug_referrer?Hilite.debug_referrer:document.referrer;var c=null;d=Hilite.decodeReferrer(d);if(d&&((Hilite.elementid&&(c=document.getElementById(Hilite.elementid)))||(c=document.body))){Hilite.hiliteElement(c,d)}};Hilite.walkElements=function(k,i,j){var h=/^(script|style|textarea)/i;var l=0;while(k&&i>0){l++;if(l>=Hilite.max_nodes){var g=function(){Hilite.walkElements(k,i,j)};setTimeout(g,50);return}if(k.nodeType==1){if(!h.test(k.tagName)&&k.childNodes.length>0){k=k.childNodes[0];i++;continue}}else{if(k.nodeType==3){k=j(k)}}if(k.nextSibling){k=k.nextSibling}else{while(i>0){k=k.parentNode;i--;if(k.nextSibling){k=k.nextSibling;break}}}}};if(Hilite.onload){if(window.attachEvent){window.attachEvent("onload",Hilite.hilite)}else{if(window.addEventListener){window.addEventListener("load",Hilite.hilite,false)}else{var __onload=window.onload;window.onload=function(){Hilite.hilite();__onload()}}}}var mediaUrl=function(a){return scriptUrl+"m/"+osqaSkin+"/"+a};(function(a){a.i18n={setDictionary:function(b){b=b},_:function(d,c){var b=d;if(i18n_dict&&i18n_dict[d]){b=i18n_dict[d]}return this.printf(b,c)},toEntity:function(d){var b="";for(var c=0;c<d.length;c++){if(d.charCodeAt(c)>128){b+="&#"+d.charCodeAt(c)+";"}else{b+=d.charAt(c)}}return b},stripStr:function(b){return b.replace(/^\s*/,"").replace(/\s*$/,"")},stripStrML:function(d){var c=d.split("\n");for(var b=0;b<c.length;b++){c[b]=stripStr(c[b])}return stripStr(c.join(" "))},printf:function(e,b){if(!b){return e}var d="";var f=e.split("%s");for(var c=0;c<b.length;c++){if(f[c].lastIndexOf("%")==f[c].length-1&&c!=b.length-1){f[c]+="s"+f.splice(c+1,1)[0]}d+=f[c]+b[c]}return d+f[f.length-1]}}})(jQuery);var i18nZh={"insufficient privilege":"??????????","cannot pick own answer as best":"??????????????","anonymous users cannot select favorite questions":"?????????????","please login":"??????","anonymous users cannot vote":"????????",">15 points requried to upvote":"??+15?????????",">100 points required to downvote":"??+100?????????","please see":"??","cannot vote for own posts":"??????????","daily vote cap exhausted":"????????????????","cannot revoke old vote":"??????????????","please confirm offensive":"??????????????????????","anonymous users cannot flag offensive posts":"???????????","cannot flag message as offensive twice":"???????","flag offensive cap exhausted":"?????????????5??????","need >15 points to report spam":"??+15??????????","confirm delete":"?????/????????","anonymous users cannot delete/undelete":"???????????????","post recovered":"?????????????","post deleted":"????????????","add comment":"????","community karma points":"????","to comment, need":"????","delete this comment":"?????","hide comments":"????","add a comment":"????",comments:"??","confirm delete comment":"?????????",characters:"??","can write":"???","click to close":"???????","loading...":"???...","tags cannot be empty":"???????","tablimits info":"??5????????????20????","content cannot be empty":"???????","content minchars":"????? {0} ???","please enter title":"??????","title minchars":"????? {0} ???","delete":"??",undelete:"??",bold:"??",italic:"??",link:"???",quote:"??","preformatted text":"??",image:"??","numbered list":"??????","bulleted list":"??????",heading:"??","horizontal bar":"???",undo:"??",redo:"??","enter image url":'<b>??????</b></p><p>???<br />http://www.example.com/image.jpg   "????"',"enter url":'<b>??Web??</b></p><p>???<br />http://www.cnprog.com/   "????"</p>"',"upload image":"?????????"};var i18nEn={"need >15 points to report spam":"need >15 points to report spam ",">15 points requried to upvote":">15 points required to upvote ","tags cannot be empty":"please enter at least one tag","anonymous users cannot vote":"sorry, anonymous users cannot vote ","anonymous users cannot select favorite questions":"sorry, anonymous users cannot select favorite questions ","to comment, need":"(to comment other people's posts, karma ","please see":"please see ","community karma points":" or more is necessary) - ","upload image":"Upload image:","enter image url":'enter URL of the image, e.g. http://www.example.com/image.jpg "image title"',"enter url":'enter Web address, e.g. http://www.example.com "page title"',"daily vote cap exhausted":"sorry, you've used up todays vote cap","cannot pick own answer as best":"sorry, you cannot accept your own answer","cannot revoke old vote":"sorry, older votes cannot be revoked","please confirm offensive":"are you sure this post is offensive, contains spam, advertising, malicious remarks, etc.?","flag offensive cap exhausted":"sorry, you've used up todays cap of flagging offensive messages ","confirm delete":"are you sure you want to delete this?","anonymous users cannot delete/undelete":"sorry, anonymous users cannot delete or undelete posts","post recovered":"your post is now restored!","post deleted":"your post has been deleted","confirm delete comment":"do you really want to delete this comment?","can write":"have ","tablimits info":"up to 5 tags, no more than 20 characters each","content minchars":"please enter more than {0} characters","title minchars":"please enter at least {0} characters",characters:"characters left","cannot vote for own posts":"sorry, you cannot vote for your own posts","cannot flag message as offensive twice":"cannot flag message as offensive twice ",">100 points required to downvote":">100 points required to downvote "};var i18nEs={"insufficient privilege":"privilegio insuficiente","cannot pick own answer as best":"no puede escoger su propia respuesta como la mejor","anonymous users cannot select favorite questions":"usuarios anonimos no pueden seleccionar","please login":"por favor inicie sesión","anonymous users cannot vote":"usuarios anónimos no pueden votar",">15 points requried to upvote":">15 puntos requeridos para votar positivamente",">100 points required to downvote":">100 puntos requeridos para votar negativamente","please see":"por favor vea","cannot vote for own posts":"no se puede votar por sus propias publicaciones","daily vote cap exhausted":"cuota de votos diarios excedida","cannot revoke old vote":"no puede revocar un voto viejo","please confirm offensive":"por favor confirme ofensiva","anonymous users cannot flag offensive posts":"usuarios anónimos no pueden marcar publicaciones como ofensivas","cannot flag message as offensive twice":"no puede marcar mensaje como ofensivo dos veces","flag offensive cap exhausted":"cuota para marcar ofensivas ha sido excedida","need >15 points to report spam":"necesita >15 puntos para reportar spam","confirm delete":"¿Está seguro que desea borrar esto?","anonymous users cannot delete/undelete":"usuarios anónimos no pueden borrar o recuperar publicaciones","post recovered":"publicación recuperada","post deleted":"publicación borrada?","add comment":"agregar comentario","community karma points":"reputación comunitaria","to comment, need":"para comentar, necesita reputación","delete this comment":"borrar este comentario","hide comments":"ocultar comentarios","add a comment":"agregar comentarios",comments:"comentarios","confirm delete comment":"¿Realmente desea borrar este comentario?",characters:"caracteres faltantes","can write":"tiene ","click to close":"haga click para cerrar","loading...":"cargando...","tags cannot be empty":"las etiquetas no pueden estar vacías","tablimits info":"hasta 5 etiquetas de no mas de 20 caracteres cada una","content cannot be empty":"el contenido no puede estar vacío","content minchars":"por favor introduzca mas de {0} caracteres","please enter title":"por favor ingrese un título","title minchars":"por favor introduzca al menos {0} caracteres","delete":"borrar",undelete:"recuperar",bold:"negrita",italic:"cursiva",link:"enlace",quote:"citar","preformatted text":"texto preformateado",image:"imagen","numbered list":"lista numerada","bulleted list":"lista no numerada",heading:"??","horizontal bar":"barra horizontal",undo:"deshacer",redo:"rehacer","enter image url":'introduzca la URL de la imagen, por ejemplo?<br />http://www.example.com/image.jpg   "titulo de imagen"',"enter url":'introduzca direcciones web, ejemplo?<br />http://www.cnprog.com/   "titulo del enlace"</p>"',"upload image":"cargar imagen?","questions/":"preguntas/","vote/":"votar/"};var i18n={en:i18nEn,zh_CN:i18nZh,es:i18nEs};var i18n_dict=i18n[i18nLang];(function(c){var h,i;var d=0;var a=32;var e;c.fn.TextAreaResizer=function(){return this.each(function(){h=c(this).addClass("processed"),i=null;c(this).wrap('<div class="resizable-textarea"><span></span></div>').parent().append(c('<div class="grippie"></div>').bind("mousedown",{el:this},b));var k=c("div.grippie",c(this).parent())[0];k.style.marginRight=(k.offsetWidth-c(this)[0].offsetWidth)+"px"})};function b(k){h=c(k.data.el);h.blur();d=j(k).y;i=h.height()-d;h.css("opacity",0.25);c(document).mousemove(g).mouseup(f);return false}function g(m){var k=j(m).y;var l=i+k;if(d>=(k)){l-=5}d=k;l=Math.max(a,l);h.height(l+"px");if(l<a){f(m)}return false}function f(k){c(document).unbind("mousemove",g).unbind("mouseup",f);h.css("opacity",1);h.focus();h=null;i=null;d=0}function j(k){return{x:k.clientX+document.documentElement.scrollLeft,y:k.clientY+document.documentElement.scrollTop}}})(jQuery);(function(b){b.fn.extend({autocomplete:function(a,f){var e=typeof a=="string";f=b.extend({},b.Autocompleter.defaults,{url:e?a:null,data:e?null:a,delay:e?b.Autocompleter.defaults.delay:10,max:f&&!f.scroll?10:150},f);f.highlight=f.highlight||function(c){return c};f.formatMatch=f.formatMatch||f.formatItem;return this.each(function(){new b.Autocompleter(this,f)})},result:function(a){return this.bind("result",a)},search:function(a){return this.trigger("search",[a])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(a){return this.trigger("setOptions",[a])},unautocomplete:function(){return this.trigger("unautocomplete")}});b.Autocompleter=function(J,O){var S={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var T=b(J).attr("autocomplete","off").addClass(O.inputClass);var L;var F="";var I=b.Autocompleter.Cache(O);var Q=0;var A;var a={mouseDownOnSelect:false};var D=b.Autocompleter.Select(O,J,R,a);var y;b.browser.opera&&b(J.form).bind("submit.autocomplete",function(){if(y){y=false;return false}});T.bind((b.browser.opera?"keypress":"keydown")+".autocomplete",function(c){A=c.keyCode;switch(c.keyCode){case S.UP:c.preventDefault();if(D.visible()){D.prev()}else{B(0,true)}break;case S.DOWN:c.preventDefault();if(D.visible()){D.next()}else{B(0,true)}break;case S.PAGEUP:c.preventDefault();if(D.visible()){D.pageUp()}else{B(0,true)}break;case S.PAGEDOWN:c.preventDefault();if(D.visible()){D.pageDown()}else{B(0,true)}break;case O.multiple&&b.trim(O.multipleSeparator)==","&&S.COMMA:case S.TAB:case S.RETURN:if(R()){c.preventDefault();y=true;return false}break;case S.ESC:D.hide();break;default:clearTimeout(L);L=setTimeout(B,O.delay);break}}).focus(function(){Q++}).blur(function(){Q=0;if(!a.mouseDownOnSelect){C()}}).click(function(){if(Q++>1&&!D.visible()){B(0,true)}}).bind("search",function(){var d=(arguments.length>1)?arguments[1]:null;function c(f,g){var e;if(g&&g.length){for(var h=0;h<g.length;h++){if(g[h].result.toLowerCase()==f.toLowerCase()){e=g[h];break}}}if(typeof d=="function"){d(e)}else{T.trigger("result",e&&[e.data,e.value])}}b.each(N(T.val()),function(e,f){P(f,c,c)})}).bind("flushCache",function(){I.flush()}).bind("setOptions",function(){b.extend(O,arguments[1]);if("data" in arguments[1]){I.populate()}}).bind("unautocomplete",function(){D.unbind();T.unbind();b(J.form).unbind(".autocomplete")});function R(){var d=D.selected();if(!d){return false}var e=d.result;F=e;if(O.multiple){var c=N(T.val());if(c.length>1){e=c.slice(0,c.length-1).join(O.multipleSeparator)+O.multipleSeparator+e}e+=O.multipleSeparator}T.val(e);z();T.trigger("result",[d.data,d.value]);return true}function B(c,d){if(A==S.DEL){D.hide();return}var e=T.val();if(!d&&e==F){return}F=e;e=M(e);if(e.length>=O.minChars){T.addClass(O.loadingClass);if(!O.matchCase){e=e.toLowerCase()}P(e,K,z)}else{H();D.hide()}}function N(d){if(!d){return[""]}var c=d.split(O.multipleSeparator);var e=[];b.each(c,function(g,f){if(b.trim(f)){e[g]=b.trim(f)}});return e}function M(d){if(!O.multiple){return d}var c=N(d);return c[c.length-1]}function E(d,c){if(O.autoFill&&(M(T.val()).toLowerCase()==d.toLowerCase())&&A!=S.BACKSPACE){T.val(T.val()+c.substring(M(F).length));b.Autocompleter.Selection(J,F.length,F.length+c.length)}}function C(){clearTimeout(L);L=setTimeout(z,200)}function z(){var c=D.visible();D.hide();clearTimeout(L);H();if(O.mustMatch){T.search(function(e){if(!e){if(O.multiple){var d=N(T.val()).slice(0,-1);T.val(d.join(O.multipleSeparator)+(d.length?O.multipleSeparator:""))}else{T.val("")}}})}if(c){b.Autocompleter.Selection(J,J.value.length,J.value.length)}}function K(c,d){if(d&&d.length&&Q){H();D.display(d,c);E(c,d[0].value);D.show()}else{z()}}function P(e,g,f){if(!O.matchCase){e=e.toLowerCase()}var c=I.load(e);if(c&&c.length){g(e,c)}else{if((typeof O.url=="string")&&(O.url.length>0)){var d={timestamp:+new Date()};b.each(O.extraParams,function(i,h){d[i]=typeof h=="function"?h():h});b.ajax({mode:"abort",port:"autocomplete"+J.name,dataType:O.dataType,url:O.url,data:b.extend({q:M(e),limit:O.max},d),success:function(h){var i=O.parse&&O.parse(h)||G(h);I.add(e,i);g(e,i)}})}else{D.emptyList();f(e)}}}function G(g){var f=[];var c=g.split("\n");for(var e=0;e<c.length;e++){var d=b.trim(c[e]);if(d){d=d.split("|");f[f.length]={data:d,value:d[0],result:O.formatResult&&O.formatResult(d,d[0])||d[0]}}}return f}function H(){T.removeClass(O.loadingClass)}};b.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(a){return a[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(d,a){return d.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+a.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180};b.Autocompleter.Cache=function(n){var k={};var m=0;function i(c,d){if(!n.matchCase){c=c.toLowerCase()}var e=c.indexOf(d);if(e==-1){return false}return e==0||n.matchContains}function j(c,d){if(m>n.cacheLength){a()}if(!k[c]){m++}k[c]=d}function l(){if(!n.data){return false}var e={},f=0;if(!n.url){n.cacheLength=1}e[""]=[];for(var c=0,d=n.data.length;c<d;c++){var h=n.data[c];h=(typeof h=="string")?[h]:h;var r=n.formatMatch(h,c+1,n.data.length);if(r===false){continue}var s=r.charAt(0).toLowerCase();if(!e[s]){e[s]=[]}var g={value:r,data:h,result:n.formatResult&&n.formatResult(h)||r};e[s].push(g);if(f++<n.max){e[""].push(g)}}b.each(e,function(p,o){n.cacheLength++;j(p,o)})}setTimeout(l,25);function a(){k={};m=0}return{flush:a,add:j,populate:l,load:function(g){if(!n.cacheLength||!m){return null}if(!n.url&&n.matchContains){var c=[];for(var e in k){if(e.length>0){var f=k[e];b.each(f,function(o,h){if(i(h.value,g)){c.push(h)}})}}return c}else{if(k[g]){return k[g]}else{if(n.matchSubset){for(var d=g.length-1;d>=n.minChars;d--){var f=k[g.substr(0,d)];if(f){var c=[];b.each(f,function(o,h){if(i(h.value,g)){c[c.length]=h}});return c}}}}}return null}}};b.Autocompleter.Select=function(G,B,z,v){var C={ACTIVE:"ac_over"};var A,F=-1,t,y="",a=true,I,w;function x(){if(!a){return}I=b("<div/>").hide().addClass(G.resultsClass).css("position","absolute").appendTo(document.body);w=b("<ul/>").appendTo(I).mouseover(function(c){if(u(c).nodeName&&u(c).nodeName.toUpperCase()=="LI"){F=b("li",w).removeClass(C.ACTIVE).index(u(c));b(u(c)).addClass(C.ACTIVE)}}).click(function(c){b(u(c)).addClass(C.ACTIVE);z();B.focus();return false}).mousedown(function(){v.mouseDownOnSelect=true}).mouseup(function(){v.mouseDownOnSelect=false});if(G.width>0){I.css("width",G.width)}a=false}function u(c){var d=c.target;while(d&&d.tagName!="LI"){d=d.parentNode}if(!d){return[]}return d}function D(e){A.slice(F,F+1).removeClass(C.ACTIVE);E(e);var c=A.slice(F,F+1).addClass(C.ACTIVE);if(G.scroll){var d=0;A.slice(0,F).each(function(){d+=this.offsetHeight});if((d+c[0].offsetHeight-w.scrollTop())>w[0].clientHeight){w.scrollTop(d+c[0].offsetHeight-w.innerHeight())}else{if(d<w.scrollTop()){w.scrollTop(d)}}}}function E(c){F+=c;if(F<0){F=A.size()-1}else{if(F>=A.size()){F=0}}}function J(c){return G.max&&G.max<c?G.max:c}function H(){w.empty();var e=J(t.length);for(var d=0;d<e;d++){if(!t[d]){continue}var c=G.formatItem(t[d].data,d+1,e,t[d].value,y);if(c===false){continue}var f=b("<li/>").html(G.highlight(c,y)).addClass(d%2==0?"ac_even":"ac_odd").appendTo(w)[0];b.data(f,"ac_data",t[d])}A=w.find("li");if(G.selectFirst){A.slice(0,1).addClass(C.ACTIVE);F=0}if(b.fn.bgiframe){w.bgiframe()}}return{display:function(c,d){x();t=c;y=d;H()},next:function(){D(1)},prev:function(){D(-1)},pageUp:function(){if(F!=0&&F-8<0){D(-F)}else{D(-8)}},pageDown:function(){if(F!=A.size()-1&&F+8>A.size()){D(A.size()-1-F)}else{D(8)}},hide:function(){I&&I.hide();A&&A.removeClass(C.ACTIVE);F=-1},visible:function(){return I&&I.is(":visible")},current:function(){return this.visible()&&(A.filter("."+C.ACTIVE)[0]||G.selectFirst&&A[0])},show:function(){var c=b(B).offset();I.css({width:typeof G.width=="string"||G.width>0?G.width:b(B).width(),top:c.top+B.offsetHeight,left:c.left}).show();if(G.scroll){w.scrollTop(0);w.css({maxHeight:G.scrollHeight,overflow:"auto"});if(b.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var e=0;A.each(function(){e+=this.offsetHeight});var d=e>G.scrollHeight;w.css("height",d?G.scrollHeight:e);if(!d){A.width(w.width()-parseInt(A.css("padding-left"))-parseInt(A.css("padding-right")))}}}},selected:function(){var c=A&&A.filter("."+C.ACTIVE).removeClass(C.ACTIVE);return c&&c.length&&b.data(c[0],"ac_data")},emptyList:function(){w&&w.empty()},unbind:function(){I&&I.remove()}}};b.Autocompleter.Selection=function(g,f,h){if(g.setSelectionRange){g.setSelectionRange(f,h)}else{if(g.createTextRange){var a=g.createTextRange();a.collapse(true);a.moveStart("character",f);a.moveEnd("character",h);a.select()}else{if(g.selectionStart){g.selectionStart=f;g.selectionEnd=h}}}g.focus()}})(jQuery);var notify=function(){var a=false;return{show:function(b){if(b){$("body").css("margin-top","2.2em");$(".notify span").html(b)}$(".notify").fadeIn("slow");a=true},close:function(b){$(".notify").fadeOut("fast");$("body").css("margin-top","0");a=false},isVisible:function(){return a}}}();(function(f,g,d){f.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),function(a){e(a)});e("focusin","focus"+d);e("focusout","blur"+d);f.addOutsideEvent=e;function e(b,i){i=i||b+d;var j=f(),a=b+"."+i+"-special-event";f.event.special[i]={setup:function(){j=j.add(this);if(j.length===1){f(g).bind(a,c)}},teardown:function(){j=j.not(this);if(j.length===0){f(g).unbind(a)}},add:function(k){var h=k.handler;k.handler=function(m,n){m.target=n;h.apply(this,arguments)}}};function c(h){f(j).each(function(){var k=f(this);if(this!==h.target&&!k.has(h.target).length){k.triggerHandler(i,[h.target])}})}}})(jQuery,document,"outside");$(document).ready(function(){pickedTags().init();$("input#bnewaccount").click(function(){$("#bnewaccount").disabled=true})});function yourWorkWillBeLost(a){if(browserTester("chrome")){return"Are you sure you want to leave?  Your work will be lost."}else{if(browserTester("safari")){return"Are you sure you want to leave?  Your work will be lost."}else{if(!a){a=window.event}a.cancelBubble=true;a.returnValue="If you leave, your work will be lost.";if(a.stopPropagation){a.stopPropagation();a.preventDefault()}return a}}}function browserTester(a){return navigator.userAgent.toLowerCase().indexOf(a)>-1}if(!window.addEventListener){if(window.attachEvent){window.addEventListener=function(b,c,a){window.attachEvent("on"+b,c)};window.removeEventListener=function(b,c,a){window.detachEvent("on"+b,c)}}else{window.addEventListener=function(b,c,a){window["on"+b]=c};window.removeEventListener=function(b,c,a){window["on"+b]=null}}};